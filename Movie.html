<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CineLux Mobile</title>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        :root { --gold: #D4AF37; --bg: #050505; --border: rgba(255,255,255,0.1); }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: white; }

        /* Mobile Login Overlay */
        #authOverlay { position: fixed; inset: 0; background: #000; z-index: 10000; display: flex; align-items: center; justify-content: center; flex-direction: column; padding: 20px; text-align: center; }
        
        /* Fixed Header */
        nav { position: fixed; top: 0; width: 100%; height: 70px; background: rgba(0,0,0,0.9); backdrop-filter: blur(10px); display: flex; align-items: center; justify-content: space-between; padding: 0 20px; z-index: 1000; border-bottom: 1px solid var(--border); }
        
        /* Mobile Search Bar */
        .search-wrap { flex: 1; margin: 0 15px; }
        .search-wrap input { width: 100%; background: #1a1a1a; border: 1px solid #333; padding: 10px 15px; border-radius: 20px; color: white; font-size: 16px; outline: none; }

        /* Banner */
        .hero { height: 50vh; background: linear-gradient(to top, #050505, transparent), url('https://images.unsplash.com/photo-1626814026160-2237a95fc5a0?w=800') center/cover; display: flex; align-items: flex-end; padding: 20px; }

        /* Movie Grid */
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 20px; }
        .card { border-radius: 12px; overflow: hidden; background: #111; border: 1px solid var(--border); position: relative; height: 250px; }
        .card img { width: 100%; height: 100%; object-fit: cover; }

        /* Sidebar for Mobile */
        .sidebar { position: fixed; left: -100%; top: 0; width: 80%; height: 100%; background: #000; z-index: 5000; transition: 0.3s; padding: 50px 30px; }
        .sidebar.active { left: 0; box-shadow: 10px 0 50px rgba(0,0,0,0.8); }
        .link { display: block; padding: 15px 0; font-size: 20px; color: #ccc; text-decoration: none; }

        /* Account Card */
        .panel { display: none; padding: 100px 20px; }
        .active-panel { display: block; }
        .account-card { background: #111; padding: 25px; border-radius: 20px; border: 1px solid var(--gold); text-align: center; }
        
        #userImg { width: 40px; height: 40px; border-radius: 50%; border: 2px solid var(--gold); }
    </style>
</head>
<body>

    <div id="authOverlay">
        <h1 style="font-size: 3rem; margin-bottom: 20px;">CINE<span style="color:var(--gold)">LUX</span></h1>
        <div id="gBtn"></div>
    </div>

    <nav>
        <div onclick="toggleMenu()" style="font-size: 24px; color: var(--gold);">☰</div>
        <div class="search-wrap"><input type="text" placeholder="Search..." onkeyup="search(this.value)"></div>
        <img id="userImg" src="" onclick="showPanel('account')">
    </nav>

    <div class="sidebar" id="sidebar">
        <div style="text-align: right; font-size: 30px;" onclick="toggleMenu()">✕</div>
        <a href="#" class="link" onclick="showPanel('home')">Home</a>
        <a href="#" class="link" onclick="showPanel('account')">Account Details</a>
        <a href="#" class="link" onclick="alert('Support: contact@cinelux.com')">Contact Support</a>
        <a href="#" class="link" style="color:red; margin-top: 50px;" onclick="logout()">Logout</a>
    </div>

    <div id="homePanel" class="panel active-panel" style="padding: 70px 0 0 0;">
        <div class="hero">
            <div>
                <h1 style="font-size: 2.5rem;">INTERSTELLAR</h1>
                <button style="background:var(--gold); border:none; padding:10px 20px; border-radius:5px; font-weight:800; margin-top:10px;">WATCH NOW</button>
            </div>
        </div>
        <div class="grid" id="mGrid"></div>
    </div>

    <div id="accountPanel" class="panel">
        <div class="account-card">
            <img id="profileBig" src="" style="width:80px; border-radius:50%; border:3px solid var(--gold);">
            <h2 id="uName" style="margin-top:15px;"></h2>
            <p id="uEmail" style="color:#666;"></p>
            <p style="margin-top:20px; color:var(--gold);">PREMIUM MEMBER</p>
        </div>
    </div>

    <script>
        const CLIENT_ID = "739537461326-r2gspogeoruch5a4b2m6kui2v9e1lchp.apps.googleusercontent.com";

        function init() {
            google.accounts.id.initialize({
                client_id: CLIENT_ID,
                callback: (res) => {
                    const user = JSON.parse(atob(res.credential.split('.')[1]));
                    localStorage.setItem('user', JSON.stringify(user));
                    load(user);
                }
            });
            google.accounts.id.renderButton(document.getElementById("gBtn"), { theme: "filled_black", size: "large" });
            
            const saved = localStorage.getItem('user');
            if(saved) load(JSON.parse(saved));
        }

        function load(user) {
            document.getElementById('authOverlay').style.display = 'none';
            document.getElementById('userImg').src = user.picture;
            document.getElementById('profileBig').src = user.picture;
            document.getElementById('uName').innerText = user.name;
            document.getElementById('uEmail').innerText = user.email;
            render(movies);
        }

        const movies = [
            { title: "Batman", img: "https://images.unsplash.com/photo-1478720568477-152d9b164e26?w=400" },
            { title: "Dune", img: "https://images.unsplash.com/photo-1506466010722-395aa2bef877?w=400" },
            { title: "Interstellar", img: "https://images.unsplash.com/photo-1446776811953-b23d57bd21aa?w=400" },
            { title: "The Joker", img: "https://images.unsplash.com/photo-1509248961158-e54f6934749c?w=400" }
        ];

        function render(data) {
            document.getElementById('mGrid').innerHTML = data.map(m => `
                <div class="card" onclick="alert('Playing: ' + '${m.title}')">
                    <img src="${m.img}">
                    <div style="position:absolute; bottom:10px; left:10px; font-size:12px; font-weight:bold;">${m.title}</div>
                </div>
            `).join('');
        }

        function search(v) {
            render(movies.filter(m => m.title.toLowerCase().includes(v.toLowerCase())));
        }

        function toggleMenu() {
            document.getElementById('sidebar').classList.toggle('active');
        }

        function showPanel(p) {
            document.querySelectorAll('.panel').forEach(el => el.classList.remove('active-panel'));
            document.getElementById(p + 'Panel').classList.add('active-panel');
            toggleMenu();
        }

        function logout() { localStorage.clear(); location.reload(); }

        window.onload = init;
    </script>
</body>
</html>
